define(["jquery","jqueryForm","toastr","sweetalert"],function(l,t,e,o){var n={Testfunction:function(t,e){console.log("Testfunction")},dataSubmit:function(t){l(t).ajaxSubmit({dataType:"json",success:function(t){if(!0===t.error)o(t.title,t.msg,"error");else{console.log("dataSubmit");var e=t.url;o({title:t.title,text:t.msg,type:"success",showCancelButton:!1},function(){window.location.href=e})}}})},dataSubmitdir:function(t){l(t).ajaxSubmit({dataType:"json",success:function(t){!0===t.error?(e.options={closeButton:!0,progressBar:!0,showMethod:"slideDown",timeOut:4e3},e.error(t.msg,t.title)):location.href=t.url}})},checkboxall:function(t){l("#checkall").click(function(){l(".item").prop("checked",this.checked)})}};return l("#checkall").click(function(){n.checkboxall(this)}),n.mutideletesubmit=function(t){l(".btnsubdel").click(function(){var e=l(".btnsubdel").attr("data-url");console.log(e),o({title:"ต้องการลบข้อมูล?",type:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonColor:"#DD6B55",confirmButtonText:"ยืนยัน",closeOnConfirm:!1},function(t){t&&(l("input[class='item']").is(":checked")?(console.log(e),document.getElementById("formMuti").action=e,l("#formMuti").submit(),console.log("มี")):(console.log(e),console.log("ไม่มี"),o("Error!","กรุณาเลือกข้อมูลที่ต้องการลบ","error")))})})},l(".btnsubdel").click(function(){n.mutideletesubmit(this)}),n.mutiactivatesubmit=function(t){l(".btnsubatv").click(function(){var e=l(".btnsubatv").attr("data-url");console.log(e),o({title:"ต้องการอัพเดตสถานะใบสั่งซื้อ?",type:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonColor:"#DD6B55",confirmButtonText:"ยืนยัน",closeOnConfirm:!1},function(t){t&&(l("input[class='item']").is(":checked")?(console.log(e),document.getElementById("formMuti").action=e,l("#formMuti").submit(),console.log("มี")):(console.log(e),console.log("ไม่มี"),o("Error!","กรุณาเลือกข้อมูลที่ต้องการอัพเดตสถานะ","error")))})})},l(".btnsubatv").click(function(){n.mutiactivatesubmit(this)}),n.printview=function(t){l("#btn-print").click(function(){var t=document.getElementById("thisprint").innerHTML,e=document.body.innerHTML;return document.body.innerHTML="<html><head><title></title></head><body>"+t+"</body>",window.print(),document.body.innerHTML=e,!1})},l("#btn-print").click(function(){n.printview(this)}),n.deleteData=function(t){var e=l(t).attr("data-url");o({title:"ต้องการลบข้อมูล?",type:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonColor:"#DD6B55",confirmButtonText:"ยืนยัน",closeOnConfirm:!1},function(t){t&&(location.href=e)})},l(".btn-delete").click(function(){n.deleteData(this)}),n.checkdelete=function(t){var e=l(t).attr("data-url"),n=l(t).attr("data-urlCheck");o({title:"ต้องการลบข้อมูล?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!1},function(t){t&&l.ajax({method:"POST",dataType:"json",url:n,success:function(t){!0===t.error?o(t.title,t.msg,"error"):location.href=e}})})},n.activatedata=function(t){var e=l(t).attr("data-url");o({title:"ต้องการอัพเดตสถานะใบสั่งซื้อ?",type:"warning",showCancelButton:!0,cancelButtonText:"ยกเลิก",confirmButtonColor:"#DD6B55",confirmButtonText:"ยืนยัน",closeOnConfirm:!1},function(t){t&&(location.href=e)})},l(".btn-activate").click(function(){n.activatedata(this)}),n.choosedata=function(t){var e=l(t).attr("data-url"),n=l(t).attr("data-urlCheck");o({title:"ต้องการเลือกรายการนี้?",type:"warning",showCancelButton:!0,confirmButtonColor:"#27ae60",confirmButtonText:"Submit",closeOnConfirm:!1},function(t){t&&l.ajax({method:"POST",dataType:"json",url:n,success:function(t){!0===t.error?o(t.title,t.msg,"error"):location.href=e}})})},n.jsonFilemanager=function(i){var a=i.attr("data-url"),t=a+"manager/filemanager/jsonListdata",e=i.attr("data-type"),n=i.attr("data-folder"),o=i.attr("data-tags");l.ajax({method:"POST",dataType:"json",url:t,data:{typeFile:e,Folder:n,Tags:o},beforeSend:function(){},success:function(t){console.log(t),i.html(""),l.each(t.listdata,function(t,e){var n='<a href="'+a+"filemanager/"+e.file_folder+"/"+e.file_name+'" target="_blank"><span class="corner"></span>',o=e.file_name.split(".").pop();n+="jpg"==o||"png"==o||"gif"==o?'<div class="image"><img alt="image" class="img-responsive" src="'+a+"filemanager/"+e.file_folder+"/"+e.file_name+'"></div>':"mp3"==o?'<div class="icon"><i class="fa fa-music"></i>a</div>':"mpg4"==o?'<div class="icon"><i class="img-responsive fa fa-film"></i></div>':"xls"==o||"xlsx"==o?'<div class="icon"><i class="fa fa-bar-chart-o"></i></div>':'<div class="icon"><i class="fa fa-file"></i></div>',n+='<div class="file-name">'+e.file_name+"<br/><small>Added: "+e.file_lastedit+'</small><br /><small class="tooltip-demo"></a>',n+='<button class="btn btn-white Btn-delete" data-toggle="tooltip" data-placement="top" title="" data-original-title="Move to trash" data-url="'+a+"manager/filemanager/delete/"+e.file_id+'"><i class="fa fa-trash"></i></button>',n+='<button class="btn btn-white pull-right clipboard" data-toggle="tooltip" data-placement="top" title="" data-original-title="Copy url file" data-clipboard-text="'+a+"filemanager/"+e.file_folder+"/"+e.file_name+'"><i class="fa fa-copy"></i></button>',n+="</small></div>",i.append(l('<div class="file-box"></div>').append(l('<div class="file"></div>').html(n)))})}})},n});